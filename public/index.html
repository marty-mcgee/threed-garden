<!DOCTYPE html>
<html>
<head>
  <title>ThreeD Home + Garden</title>
  <!-- <base href="https://threedgarden.com/demo/" /> -->
  <meta http-equiv="Content-Security-Policy" content="object-src 'self' threedpublic.s3.amazonaws.com ; img-src 'self' data: threedpublic.s3.amazonaws.com ; media-src 'self' threedpublic.s3.amazonaws.com ; "/>

  <meta charset="UTF-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
  <meta name="viewport" content="initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#222222" />

  <link rel="stylesheet" href="./css/threed.css">
  <link rel="stylesheet" href="./css/fa-550.css">
  <link rel="stylesheet" href="./css/jquery.minicolors.css">

  <link rel="apple-touch-icon" sizes="76x76" href="./media/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./media/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./media/favicon/favicon-16x16.png">
  <link rel="mask-icon" href="./media/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="description" content="Create house and garden plans in 2D and 3D">
  <meta name="keywords"
     content="Home Architecture, Home and Garden Planning, 3D Plans, Home Ideas, Floor Plan, Garden Plans, 3D Design Ideas, Building Plan">
  <meta name="author" content="Marty McGee">
  
  <meta name="twitter:card" value="Create house and garden plans in 2D and 3D">

  <meta property="og:title" content="ThreeD Home + Garden">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Design house, landscape, garden plans in 2D + 3D" />
  <meta property="og:url" content="https://threedgarden.com/demo/">
  <meta property="og:image" content="https://threedgarden.com/media/favicon/favicon.png">
  <meta property="og:image:width" content="600">
  <meta property="og:image:height" content="337">

  <script type="text/javascript" src="scripts/jquery-1.11.3.min.js"></script>
  <script type="text/javascript" src="scripts/paper-full.js?a=1"></script>
  <script type="text/javascript" src="scripts/three.min.js"></script>
  <script type="text/javascript" src="scripts/trackballcontrols.js"></script>
  <script type="text/javascript" src="scripts/tween.js"></script>
  <script type="text/javascript" src="scripts/MTLLoader.js"></script>
  <script type="text/javascript" src="scripts/OBJLoader.js"></script>
  <script type="text/javascript" src="scripts/OBJExporter.js"></script>
  <!-- <script type="text/javascript" src="scripts/jsonc.min.js"></script> -->
  <!-- SHADERS + PROCESSORS -->
  <!-- <script type="text/javascript" src="scripts/shaders/CopyShader.js"></script> -->
  <!-- <script type="text/javascript" src="scripts/volumeMaskShader.js"></script> -->
  <!-- <script type="text/javascript" src="scripts/shaders/RGBShiftShader.js"></script> -->
  <!-- <script type="text/javascript" src="scripts/postprocessing/EffectComposer.js"></script> -->
  <!-- <script type="text/javascript" src="scripts/postprocessing/RenderPass.js"></script> -->
  <!-- <script type="text/javascript" src="scripts/postprocessing/ShaderPass.js"></script> -->
  <script type="text/javascript" src="scripts/sky.js"></script>
  <script type="text/javascript" src="scripts/ThreeCSG.js"></script>
  <script type="text/javascript" src="scripts/jquery.minicolors.min.js"></script>

  <script type="text/javascript" data-cfasync="false">
    var fragment = null
    var readOnly = false
    var UILayout = "default"
  </script>
  <script type="text/javascript" src="scripts/threed.js"></script>

</head>

<body id="appBody">

  <div id="aboutModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">&times;</span>
        
        <a href="https://threedgarden.com/" title="ThreeD Garden"
          style="color: #FFFFFF; text-decoration: none;">        
          <img src="favicon/favicon.png" 
            height="48px" 
            style="float:left; padding-top:6px; padding-right: 12px;"
            alt="ThreeD Home + Garden" />
          <h2>ThreeD Home + Garden</h2>
        </a>
      </div>
      <div class="modal-body">

        <div class="tab">
          <button class="tablinks active" onclick="openTab('tab1')" id="tab1">Intro</button>
        </div>

        <div id="tab1Content" class="tabcontent" style="display:block;">
          <h3>ThreeD Home + Garden Introduction</h3>
          <p>Plan + Share Ideas for your Home + Garden in 2D + 3D</p>
          <div style="padding:12px;">
            <p>Save Plan Edits to local web storage : <input type="checkbox" id="saveEditsToLocalStorage" onchange="handleSaveEditsLocalStorageOption()"/>
              <span class="tooltip"><img src="media/info.png" class="tooltip">
                <span class="tooltiptext">Any edits you make to the plan will be saved to your browsers local web storage so that you don't lose any work between saves.<br/>The plan may be removed if you clean your browsers cookies and history, so to save your work long term, use the "File->Save" option in the main <a href="http://threedgarden.com">ThreeD Home + Garden</a> toolbar.<br/>More info about <a href="https://www.w3schools.com/HTML/html5_webstorage.asp" target="_blank" rel="noreferrer">Local Web Storage</a>.</span>
              </span>
              <div id="localStoragePlanDiv">
                <hr/>
                <table>
                  <tr>
                    <td style="text-align:center">
                      Most Recent Edit saved in Local Web Storage.
                      <br />
                      <button 
                        onClick="loadFromLocalStorage()"
                        id="loadLocalStoragePlanBtn">
                        Load Plan
                      </button>
                      <br /><br />
                      <span id="localStoragePlanLastSavedDate"></span>
                    </td>
                    <td>
                      <div>
                        <img id="localStoragePlanImage" onClick="loadFromLocalStorage();"/>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </p>
            <div id="featuredPlan">
              <table>
                <tr>
                  <td style="text-align:center; width:300px;">
                    <button 
                      onClick="loadExamplePlan()"
                      id="loadFeaturedPlanBtn"
                      class="largeButton">
                      Load Example Plan
                    </button>
                    <br /><br />
                    or
                    <br />
                    <button onClick="closeAllModals()" class="largeButton">Start New Plan</button>
                  </td>
                  <td>
                    <div><img id="featuredPlanImage" onClick="loadExamplePlan();" /></div>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div id="model3dModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">&times;</span>
        <img src="favicon/favicon.png" height="48px" style="float:left; padding-top:6px; padding-right: 12px;"
          title="ThreeD Home + Garden" alt="ThreeD Home + Garden" />
        <h2>ThreeD Home + Garden</h2>
      </div>
      <div class="modal-body">
        <div id="model3dView">
          <canvas id="model3dViewCanvas"></canvas>
        </div>
        <div id="modalModelDescription">
          <h3>3d Model Properties</h3>
          <table class="propertiesTable" style="width:400px;">
            <tr>
              <td width="70">Name</td>
              <td><span id="model3dNameModal"></span></td>
            </tr>
            <tr>
              <td>Author</td>
              <td><span id="model3dAuthorModal"></span></td>
            </tr>
            <tr>
              <td>License</td>
              <td><span id="model3dLicenseModal"></span></td>
            </tr>
            <tr>
              <td colspan="2">OBJ&nbsp;File&nbsp;Comments</td>
            </tr>
          </table>
          <textarea id="modalModel3dObjHeader"></textarea>

        </div>
      </div>
      <div class="modal-footer">
        <h3><a href="http://threedgarden.com">ThreeD Home + Garden</a></h3>
      </div>
    </div>
  </div>


  <div id="loadingModal" class="smallModal">
    <div class="smallModal-content">
      <div class="smallModal-header">
        <img src="favicon/favicon.png" height="48px" style="float:left; padding-top:6px; padding-right: 12px;"
          title="ThreeD Home + Garden" alt="ThreeD Home + Garden" />
        <h2>ThreeD Home + Garden</h2>
      </div>
      <div class="smallModal-body">
        <h3>Loading Model Progress</h3>
        <textarea id="modalLoadingDataInfo"></textarea>
      </div>
      <div class="smallModal-footer">
       <h3><a href="http://threedgarden.com">ThreeD Home + Garden</a></h3>
     </div>
    </div>
  </div>

  <div id="shareModal" class="smallModal">
    <div class="smallModal-content">
      <div class="smallModal-header">
        <span class="close">&times;</span>
        <img src="favicon/favicon.png" height="48px" style="float:left; padding-top:6px; padding-right: 12px;"
          title="ThreeD Home + Garden" alt="ThreeD Home + Garden" />
        <h2>ThreeD Home + Garden</h2>
      </div>
      <div class="smallModal-body">
        <h3>Share Plan</h3>
        <button id="getShareLinkBtn" class="mediumButton" onClick="generateShareLink();">Generate Share
          Link</button>
        <div style="margin:10px 0px 10px 0px;">
          <div style="padding-top:6px">
            <label for="shareLinkUrl">Editable Copy</label><br />
            <input type="text" id="shareLinkUrl" placeholder="Press 'Generate Share Link' button"
              style="width: 580px; background-color: #4e4e4e; border: 1px solid #2a2a2a; font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace; padding: 4px 24px 4px 24px; pointer-events: none;" />&nbsp;
            <button id="copyShareLinkBtn" class="smallButton" onClick="copyShareLink();">Copy</button>
          </div>

          <div style="padding-top:6px">
            <label for="shareLinkUrl3d">Read Only 3d View</label><br />
            <input type="text" id="shareLinkUrl3d" placeholder="Press 'Generate Share Link' button"
              style="width: 580px; background-color: #4e4e4e; border: 1px solid #2a2a2a; font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace; padding: 4px 24px 4px 24px; pointer-events: none;" />&nbsp;
            <button id="copyShareLinkBtn" class="smallButton" onClick="copyShareLink3d();">Copy</button>
          </div>

          <div style="padding-top:6px">
            <label for="shareLinkUrlPlan">Read Only Plan View</label><br />
            <input type="text" id="shareLinkUrlPlan" placeholder="Press 'Generate Share Link' button"
              style="width: 580px; background-color: #4e4e4e; border: 1px solid #2a2a2a; font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace; padding: 4px 24px 4px 24px; pointer-events: none;" />&nbsp;
            <button id="copyShareLinkBtn" class="smallButton" onClick="copyShareLinkPlan();">Copy</button>
          </div>
        </div>
      </div>
      <div class="smallModal-footer">
       <h3><a href="http://threedgarden.com">ThreeD Home + Garden</a></h3>
     </div>
    </div>
  </div>

  <div id="toolBar">
    <ul>
      <li class="brandImg">
        <a onclick="showAbout()" style="padding:0px; margin:0px;">
          <img
            src="favicon/favicon.png" height="48px" title="ThreeD Home + Garden" alt="ThreeD Home + Garden" />
        </a>
      </li>
      <li class="brand">
        <a onclick="showAbout()" 
          style="text-align: center; padding-top: 15px; padding-left: 18px; padding-right: 24px; padding-bottom: 15px; text-decoration: none; font-size: 21px;">
          ThreeD Home + Garden
        </a>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropbtn">File</a>
        <div class="dropdown-content">
          <a onclick="setNewPlan();">New</a>
          <a onClick="loadExamplePlan();">Load Demo</a>
          <a id="loadBtn" onclick="document.getElementById('file').click();">Load</a>
          <input type="file" style="display:none;" id="file" name="file" onchange="loadFileAsText(event)" />
          <a id="saveBtn" onclick="savePlan();">Save</a>
          <a id="shareBtn" onclick="openShareDialog();">Share</a>
          <hr />
          <a id="defaultsBtn" onclick="setPropertiesView('defaults');">Defaults</a>
          <!--<a  id="groundPropertiesButton" onclick="setToolMode('ground');">Ground Properties</a>-->
          <a id="fullscreenApp" onclick="openFullscreen('appBody');">Fullscreen</a>
        </div>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropbtn">Edit</a>
        <div class="dropdown-content">
          <a id="undoBtn" onclick="doUndo();">Undo</a>
          <a id="redoBtn" onclick="doRedo();">Redo</a>
        </div>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropbtn">Plan View</a>
        <div class="dropdown-content">
          <a onclick="setPropertiesView('planView');">Background Template</a>
          <a onclick="newLevel();">Add Level</a>
          <a onclick="openFullscreen('planView');">Fullscreen</a>
        </div>
      </li>
      <li class="dropdown">
        <a href="javascript:void(0)" class="dropbtn">3D View</a>
        <div class="dropdown-content">
          <a onclick="setPropertiesView('3dView');">Properties</a>
          <a onclick="openFullscreen('view3d');">Fullscreen</a>
          <a onclick="exportToObj();">Export As OBJ</a>
          <!--<a  id="createThumb" onclick="createThumbForHistory();">Create Thumb</a>-->
        </div>
      </li>
      <!--<li>
        <a  onclick="doLog()">Log</a>
      </li>-->
      <!-- <li>
        <a onclick="showAbout()">About</a>
      </li> -->
      <li>
        <a id="pointerTool" onclick="setToolMode('pointer');" class="toolButton activeTool"
          title="Pointer Select" alt="Pointer Select">
          <img src="media/pointericonWhite.png" height="42px">
        </a>
      </li>
      <!-- <li>
        <a onClick="setToolMode('hand');">
          <img src="media/handicon.png" width="50px">
        </a>
      </li> -->
      <li>
        <a id="addWallTool" onclick="setToolMode('walls');" class="toolButton" title="Add Wall" alt="Add Wall">
          <img src="media/newWallWhite2.png" height="42px">
        </a>
      </li>
      <li>
        <a id="addFloorTool" onclick="setToolMode('floor');" class="toolButton" title="Add Floor"
          alt="Add Floor">
          <img src="media/newFloorWhite2.png" height="42px">
        </a>
      </li>
      <li>
        <a id="addRoofTool" onclick="setToolMode('roof');" class="toolButton" title="Add Roof" alt="Add Roof">
          <img src="media/newRoofWhite2.png" height="42px">
        </a>
      </li>
      <li>
        <a id="addRulerTool" onclick="setToolMode('dimension');" class="toolButton" title="Add Dimension"
          alt="Add Dimension">
          <img src="media/newRulerWhite2.png" height="42px">
        </a>
      </li>
      <li>
        <a id="addTextTool" onclick="setToolMode('text');" class="toolButton" title="Add Text Annotation"
          alt="Add Text Annotation">
          <img src="media/newTextWhite.png" height="42px">
        </a>
      </li>
    </ul>
  </div>

  <div id="catalogView">
    <div id="catalogFilters">
      <input type="text" id="catalogTextFilter" placeholder="Filter" />
    </div>
    <div id="catalogItems">
    </div>
  </div>

  <div id="propertiesView" style="padding-left: 10px;">
    <div id="threed3DModelPropertiesView" style="display: none">
      <h3>3d Model Properties</h3>
      <table class="propertiesTable" style="min-width: 290px;">
        <tr>
          <td colspan="2" style="text-align: center;">
            <div onmousedown="beginDrag(event, modalModel3dThreedId);" class="disableSelection"><img
                id="model3dLargeThumb" class="disableSelection" style="pointer-events: none;" /></div>
          </td>
        </tr>
        <tr>
          <td width="70">Name</td>
          <td><span id="model3dName"></span></td>
        </tr>
        <tr>
          <td>Author</td>
          <td><span id="model3dAuthor"></span></td>
        </tr>
        <tr>
          <td>License</td>
          <td><span id="model3dLicense"></span></td>
        </tr>
        <tr>
          <td>3D Model</td>
          <td>
            <button class="moreInfoBtn" onClick="showModel3dView();">View</button>
          </td>
        </tr>
      </table>
    </div>
    <div id="threedPropertiesView" style="display: none;">
      <h3>Threed Properties</h3>
      <table class="propertiesTable" style="min-width: 290px;">
        <tr>
          <td width="70">Id</td>
          <td><span id="objectId"></span></td>
        </tr>
        <tr>
          <td>Name</td>
          <td><span id="objectName"></span></td>
        </tr>
        <tr>
          <td>X</td>
          <td><input type="text" id="threedXProp"
              style="width: 80px; border: 1px solid #2a2a2a; font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateThreedPosX);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Z</td>
          <td><input type="text" id="threedZProp"
              style="width: 80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateThreedPosZ);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Y</td>
          <td><input type="text" id="threedYProp"
              style="width: 80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateThreedPosY);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Width</td>
          <td>
            <input type="text" id="threedWidthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateThreedWidth);" maxlength="8" />
            cm
            <input type="checkbox" id="flipX" onchange="flipX(this.checked)">Flip X
          </td>
        </tr>
        <tr>
          <td>Depth</td>
          <td>
            <input type="text" id="threedDepthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateThreedDepth);" maxlength="8" />
            cm
            <input type="checkbox" id="flipZ" onchange="flipZ(this.checked)">Flip Z
          </td>
        </tr>
        <tr>
          <td>Height</td>
          <td><input type="text" id="threedHeightProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateThreedHeight);"
              maxlength="8" /> cm</td>
        </tr>
        <tr>
          <td>Angle</td>
          <td><span id="threedAngleProp"></span>째</td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="threedLevelProp"></span></td>
        </tr>
        <tr>
          <td>3D Model</td>
          <td><button class="moreInfoBtn" onClick="showModel3dView();">View</button></td>
        </tr>
      </table>
    </div>
    <div id="defaultsPropertiesView" style="display:none;">
      <h3>Default Settings</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td>Compass Heading</td>
          <td><input type="range" id="compassHdg" name="compassHdg" min="0" max="360" step="1" value="0"
              oninput="rotateCompass(this.value)" onchange="rotateCompass(this.value)" />
            <span id="compassHdgLbl">0째</span>
          </td>
        </tr>
      </table>
    </div>
    <div id="wallDefaultsPropertiesView" style="display:none;">
      <h3>Default Wall Settings</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Wall Height</td>
          <td><input type="text" id="defaultWallHeightProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultWallHeight);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Wall Thickness</td>
          <td><input type="text" id="defaultWallThicknessProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultWallThickness);"
              maxlength="8" />
            cm</td>
        </tr>
      </table>
    </div>
    <div id="floorDefaultsPropertiesView" style="display:none;">
      <h3>Default Floor Settings</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td>Floor Thickness</td>
          <td><input type="text" id="defaultFloorThicknessProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultFloorThickness);"
              maxlength="8" /> cm</td>
        </tr>
      </table>
    </div>
    <div id="roofDefaultsPropertiesView" style="display:none;">
      <h3>Default Roof Settings</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td>Roof Thickness</td>
          <td><input type="text" id="defaultRoofThicknessProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultRoofThickness);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Rise</td>
          <td><input type="text" id="defaultRoofRiseProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultRoofRise);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Base Offset</td>
          <td><input type="text" id="defaultRoofStartHeightProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateDefaultRoofStartHeight);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Run</td>
          <td><input type="text" id="defaultRoofWidthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateDefaultRoofWidth);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Rafter Length</td>
          <td><span id="defaultRafterLengthProp"></span> cm</td>
        </tr>
        <tr>
          <td>Roof Pitch</td>
          <td><span id="defaultRoofPitchProp"></span>째</td>
        </tr>
      </table>
    </div>
    <div id="dimensionDefaultsPropertiesView" style="display:none;">
      <h3>Default Dimension Settings</h3>
    </div>
    <div id="textDefaultsPropertiesView" style="display:none;">
      <h3>Default Text Settings</h3>
    </div>

    <div id="planViewPropertiesView" style="display:none;">
      <h3>Background Template</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">File</td>
          <td>
            <input type="file" id="backgroundImageFile" name="backgroundImageFile"
              onchange='loadBackgroundImage(event)' />
          </td>
        </tr>
        <tr>
          <td>Opacity</td>
          <td>
            <input type="range" id="bgTemplateOpacity" name="bgTemplateOpacity" min="0" max="1.0" step=".01"
              value="0.33" oninput="setBgTemplateOpacity(this.value)"
              onchange="setBgTemplateOpacity(this.value)" />
          </td>
        </tr>
        <tr>
          <td>Flip Horizontal</td>
          <td>
            <input type="checkbox" id="bgTplFlipX" onchange="flipBackgroundTemplateX(this.checked)">
          </td>
        </tr>
        <tr>
          <td>Flip Vertical</td>
          <td>
            <input type="checkbox" id="bgTplFlipZ" onchange="flipBackgroundTemplateZ(this.checked)">
          </td>
        </tr>
        <tr>
          <td width="60"></td>
          <td><button id="resizeBackgroundImageBtn" onclick="enableResizeBackgroundTemplate();"
              class="moreInfoBtn">Resize</button></td>
        </tr>
        <tr>
          <td width="60"></td>
          <td><button id="deleteBackgroundImageBtn" onclick="deleteBackgroundImage()"
              class="moreInfoBtn">Delete</button></td>
        </tr>
      </table>
    </div>
    <div id="3dViewPropertiesView" style="display:none;">
      <h3>3d View Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Wall Color</td>
          <td>
            <input type="hidden" id="wallDiffuse" value="rgba(255,255,255,0.5)">
          </td>
        </tr>
        <tr>
          <td width="70">Wall Specular</td>
          <td>
            <input type="hidden" id="wallSpecular" value="#00ff00">
          </td>
        </tr>
        <!--<tr>
          <td width="70">Wall Emissive</td>
          <td>
            <input type="hidden" id="wallEmissive" value="#ffffff">
          </td>
        </tr>-->
        <tr>
          <td width="70">Floor Color</td>
          <td>
            <input type="hidden" id="floorDiffuse" value="rgba(15,15,15,0.5)">
          </td>
        </tr>
        <tr>
          <td width="70">Floor Specular</td>
          <td>
            <input type="hidden" id="floorSpecular" value="#00ffff">
          </td>
        </tr>
        <tr>
          <td width="70">Roof Color</td>
          <td>
            <input type="hidden" id="roofDiffuse" value="rgba(255,255,255,0.5)">
          </td>
        </tr>
        <tr>
          <td width="70">Roof Specular</td>
          <td>
            <input type="hidden" id="roofSpecular" value="#ff0000">
          </td>
        </tr>
        <tr>
          <td>Ground Color</td>
          <td>
            <input type="hidden" id="groundDiffuse" value="rgba(03,141,221,1.0)">
          </td>
        </tr>
        <tr>
          <td>Ground Specular</td>
          <td>
            <input type="hidden" id="groundSpecular" value="#f2ff9c">
          </td>
        </tr>
        <tr>
          <td width="70">Depth Write</td>
          <td>
            <input type="checkbox" id="depthWriteMode" onChange="setDepthWriteMode(this.checked);">
          </td>
        </tr>
        <tr>
          <td width="70">Sort Objects</td>
          <td>
            <input type="checkbox" id="sortObjectsMode" onChange="setSortObjectsMode(this.checked);">
          </td>
        </tr>
        <tr>
          <td>Sun Azimuth</td>
          <td>
            <input type="range" id="sunAzimuth" name="sunAzimuth" min="0" max="1.0" step=".01" value="0.33"
              oninput="setSunAzimuth(this.value)" onchange="setSunAzimuth(this.value)" />
          </td>
        </tr>
        <tr>
          <td>Sun Incline</td>
          <td>
            <input type="range" id="sunIncline" name="sunIncline" min="0" max="1.0" step=".01" value="0.0"
              oninput="setSunIncline(this.value)" onchange="setSunIncline(this.value)" />
          </td>
        </tr>
        <tr>
          <td>Ambient Intensity</td>
          <td>
            <input type="range" id="ambientLightBrightness" name="ambientLightBrightness" min="0.0"
              max="1.0" step="0.1" oninput="adjustAmbientLightBrightness(this.value)"
              onchange="adjustAmbientLightBrightness(this.value)" />
          </td>
        </tr>
        <tr>
          <td>Directional Intensity</td>
          <td>
            <input type="range" id="dirLightBrightness" name="dirLightBrightness" min="0.0" max="1.0"
              step="0.1" oninput="adjustDirLightBrightness(this.value)"
              onchange="adjustDirLightBrightness(this.value)" />
          </td>
        </tr>
        <tr>
          <td>Hemisphere Intensity</td>
          <td>
            <input type="range" id="hemiLightBrightness" name="hemiLightBrightness" min="0.0" max="1.0"
              step="0.1" oninput="adjustHemiLightBrightness(this.value)"
              onchange="adjustHemiLightBrightness(this.value)" />
          </td>
        </tr>
      </table>
    </div>
    <div id="wallPropertiesView" style="display:none;">
      <h3>Wall Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td>
            <input type="hidden" id="wallIdHidden">
            <span id="wallIdProp"></span>
          </td>
        </tr>
        <tr>
          <td>Height</td>
          <td><input type="text" id="wallHeightProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateWallHeight);" maxlength="8" /> cm
          </td>
        </tr>
        <tr>
          <td>Height Start</td>
          <td><input type="text" id="wallHeight0Prop"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateWallHeight0);" maxlength="8" /> cm
          </td>
        </tr>
        <tr>
          <td>Height End</td>
          <td><input type="text" id="wallHeight1Prop"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateWallHeight1);" maxlength="8" /> cm
          </td>
        </tr>
        <tr>
          <td>Thickness</td>
          <td><input type="text" id="wallThicknessProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateWallThickness);" maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="wallLevelProp"></span></td>
        </tr>
      </table>
    </div>
    <div id="roofPropertiesView" style="display:none;">
      <h3>Roof Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td>
            <input type="hidden" id="roofIdHidden">
            <span id="roofIdProp"></span>
          </td>
        </tr>
        <tr>
          <td>Thickness</td>
          <td><input type="text" id="roofThicknessProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateRoofThickness);" maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Rise</td>
          <td><input type="text" id="roofRiseProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateRoofRise);" maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Base Offset</td>
          <td><input type="text" id="roofStartHeightProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateRoofStartHeight);"
              maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Run</td>
          <td><input type="text" id="roofWidthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateRoofWidth);" maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Rafter Length</td>
          <td><span id="rafterLengthProp"></span> cm</td>
        </tr>
        <tr>
          <td>Roof Pitch</td>
          <td><span id="roofPitchProp"></span>째</td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="roofLevelProp"></span></td>
        </tr>
      </table>
    </div>
    <div id="floorPropertiesView" style="display:none;">
      <h3>Floor Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td><span id="floorIdProp"></span></td>
        </tr>
        <tr>
          <td>Area</td>
          <td><span id="floorAreaProp"></span></td>
        </tr>
        <tr>
          <td>Thickness</td>
          <td><span id="floorThicknessProp"></span></td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="floorLevelProp"></span></td>
        </tr>
      </table>
    </div>
    <div id="dimensionPropertiesView" style="display:none;">
      <h3>Dimension Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td><span id="dimensionIdProp"></span></td>
        </tr>
        <tr>
          <td>Length</td>
          <td><span id="dimensionLengthProp"></span></td>
        </tr>
        <tr>
          <td>Adjacent</td>
          <td><span id="dimensionAdjacentProp"></span></td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="dimensionLevelProp"></span></td>
        </tr>
      </table>
    </div>
    <div id="textPropertiesView" style="display:none;">
      <h3>Text Annotation Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td><span id="textIdProp"></span></td>
        </tr>
        <tr>
          <td>Text</td>
          <td><input type="text" id="textValueProp"
              style="width:120px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onkeyup="validateText(event, this, updateTextValue);" maxlength="100" />
          </td>
        </tr>
        <tr>
          <td>X</td>
          <td><input type="text" id="textXProp"
              style="width:100px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateTextX);" maxlength="8" />
          </td>
        </tr>
        <tr>
          <td>Y</td>
          <td><input type="text" id="textYProp"
              style="width:100px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateTextY);" maxlength="8" />
          </td>
        </tr>
        <tr>
          <td>Level</td>
          <td><span id="textLevelProp"></span></td>
        </tr>
      </table>
      <!--<div>Type<span id="textDataTypeProp"></span></div>-->
      <!--<div><button id="deleteTextAnnotationBtn" onclick="deleteTextBtnClick()">Delete</button></div>-->
    </div>
    <div id="levelPropertiesView" style="display:none;">
      <h3>Level Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td width="70">Id</td>
          <td><span id="levelIdProp"></span></td>
        </tr>
        <tr>
          <td>Name</td>
          <td><span id="levelNameProp"></span></td>
        </tr>
        <tr>
          <td>Height</td>
          <td>
            <input type="text" id="levelHeightProp"
              style="width:100px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusOrMinusNumber(this, updateLevelHeight);"
              maxlength="8" />
          </td>
        </tr>
      </table>
    </div>
    <div id="groundPropertiesView" style="display:none;">
      <h3>Ground Layer Properties</h3>
      <table class="propertiesTable" style="min-width:290px;">
        <tr>
          <td>Width</td>
          <td><input type="text" id="groundWidthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateGroundWidth);" maxlength="8" />
            cm</td>
        </tr>
        <tr>
          <td>Legth</td>
          <td><input type="text" id="groundLengthProp"
              style="width:80px; border: 1px solid #2a2a2a;font-size: 14px; color: white; font-family: 'Courier New', Courier, monospace;"
              class="editable" onChange="validatePlusNumber(this, updateGroundLength);" maxlength="8" />
            cm</td>
        </tr>
      </table>
    </div>
  </div>

  <div id="planView">
    <canvas id="planCanvas" width="1024" height="450"></canvas>
    <div id="overlayLogoPlanView" class="overlayLogo">
      <a href="https://threedgarden.com/demo/" style="float:left;padding:0px; margin-top:0px;"><img
          src="favicon/favicon.png" height="77px" title="ThreeD Home + Garden" alt="ThreeD Home + Garden" /></a>&nbsp;
      <a href="https://threedgarden.com/demo/"
        style="padding-left: 10px; text-decoration: none; font-size: 32px;">ThreeD Home + Garden</a>
    </div>
    <div id="overlayMenuPlanView">
      <button id="overlayPlanViewRecenterBtn" onclick="recenterPlanView()" class="smallButton">Recenter</button>
      <button id="overlayPlanViewGoto3dViewBtn" onclick="goto3dView()" class="smallButton">3d View</button>
    </div>
  </div>

  <canvas id="rulerLeft" width="30" height="500" onmousedown="addVerticalGuide();"
    onmouseup="removeVerticalGuide()"></canvas>
  <canvas id="rulerBottom" width="1024" height="20" onmousedown="addHorizontalGuide();"
    onmouseup="removeHorizontalGuide()"></canvas>

  <div id="mouseIndicatorY"></div>
  <div id="mouseIndicatorX"></div>

  <div id="compass"></div>

  <div id="view3d">
    <canvas id="threeCanvas"></canvas>
    <div id="overlayLogo3dView" class="overlayLogo">
      <a href="https://threedgarden.com/demo/" style="float:left;padding:0px; margin-top:0px;"><img
          src="favicon/favicon.png" height="77px" title="ThreeD Home + Garden" alt="ThreeD Home + Garden" /></a>&nbsp;
      <a href="https://threedgarden.com/demo/"
        style="padding-left: 10px; text-decoration: none; font-size: 32px;">ThreeD Home + Garden</a>
    </div>
    <div id="overlayMenu3dView">
      <button id="overlay3dviewRecenterBtn" onclick="recenter3dview()" class="smallButton">Recenter</button>
      <button id="overlay3dviewGotoPlanViewBtn" onclick="gotoPlanView()" class="smallButton">Plan View</button>
    </div>

  </div>

  <div id="verticalSlider"></div>
  <div id="horizontalSliderLeft"></div>
  <div id="horizontalSliderRight"></div>

  <div id="threedDragDiv"></div>

  <img id="fullscreenPlanViewBtn" src="media/fullscreen.png" width="30" height="30"
    onclick="openFullscreen('planView');" />
  <img id="fullscreen3dViewBtn" src="media/fullscreen.png" width="30" height="30"
    onclick="openFullscreen('view3d');" />

  <progress value="50" max="100" class="center" id="progressBar"></progress>

</body>
</html>
